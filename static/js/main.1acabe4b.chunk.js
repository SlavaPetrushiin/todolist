(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(t,e,a){},30:function(t,e,a){t.exports=a(65)},35:function(t,e,a){},36:function(t,e,a){},37:function(t,e,a){},38:function(t,e,a){},39:function(t,e,a){},40:function(t,e,a){},64:function(t,e,a){},65:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),o=a(12),i=a.n(o);a(35),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var s=a(1),c=a(7),l=a(3),u=a(2),d=a(4),p=(a(19),a(36),function(t){function e(){var t,a;Object(s.a)(this,e);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(l.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(o)))).state={error:!1,title:""},a.onAddItemClick=function(){var t=a.state.title;""===t?a.setState({error:!0}):(a.setState({error:!1,title:""}),a.props.addItem(t))},a.handleClick=function(t){var e=t.target.value.trimLeft();a.setState({error:!1,title:e})},a.handleEnter=function(t){"Enter"===t.key&&a.onAddItemClick()},a.render=function(){var t=a.state.error?"error":"";return r.a.createElement("div",{className:"todoList-newTaskForm"},r.a.createElement("input",{value:a.state.title,type:"text",placeholder:"New task name",className:t+" inputList",onChange:a.handleClick,onKeyPress:a.handleEnter}),r.a.createElement("button",{className:"button",onClick:a.onAddItemClick},r.a.createElement("span",null,"Add")))},a}return Object(d.a)(e,t),e}(r.a.Component)),f=a(13),h=(a(37),a(38),function(t){function e(){var t,a;Object(s.a)(this,e);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(l.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(o)))).onAllFilterClick=function(){a.props.changeFilter("All")},a.onCompletedFilterClick=function(){a.props.changeFilter("Completed")},a.onActiveFilterClick=function(){a.props.changeFilter("Active")},a.render=function(){var t="All"===a.props.filterValue?"filter-active":"",e="Completed"===a.props.filterValue?"filter-active":"",n="Active"===a.props.filterValue?"filter-active":"";return r.a.createElement("div",{className:"todoList-footer"},r.a.createElement("button",{onClick:a.onAllFilterClick,className:t+" buttonSort buttonSort1"},"All"),r.a.createElement("button",{onClick:a.onCompletedFilterClick,className:e+" buttonSort buttonSort1"},"Completed"),r.a.createElement("button",{onClick:a.onActiveFilterClick,className:n+" buttonSort buttonSort1"},"Active"))},a}return Object(d.a)(e,t),e}(r.a.Component)),m=(a(39),function(t){function e(){var t,a;Object(s.a)(this,e);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(l.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(o)))).state={addMode:!1,title:a.props.task.title},a.activeEditMode=function(){a.setState({addMode:!0})},a.deactivateEditMode=function(){a.setState({addMode:!1}),a.props.changeTask(a.props.task.id,{title:a.state.title})},a.onIsDoneChanged=function(t){var e=t.currentTarget.checked?2:0;a.props.changeTask(a.props.task.id,{status:e})},a.onTitleChanged=function(t){var e=t.currentTarget.value;a.setState({title:e})},a.handleDeleteTask=function(){a.props.deleteTask(a.props.task.id)},a.handleChangeSelect=function(t){var e;switch(t.target.value){case"Low":e=0;break;case"Middle":e=1;break;case"Hi":e=2;break;case"Urgently":e=3;break;case"Later":e=4}a.props.changeTask(a.props.task.id,{priority:e})},a.render=function(){var t,e=2===a.props.task.status,n=e?"done":"";switch(a.props.task.priority){case 0:t="Low";break;case 1:t="Middle";break;case 2:t="Hi";break;case 3:t="Urgently";break;case 4:t="Later"}return r.a.createElement("div",{className:"todoList-task"},r.a.createElement("input",{type:"checkbox",checked:e,onChange:a.onIsDoneChanged,className:n+" my-flex-box custom-checkbox"}),a.state.addMode?r.a.createElement("input",{type:"text",value:a.state.title,autoFocus:!0,onBlur:a.deactivateEditMode,onChange:a.onTitleChanged,className:"my-flex-box"}):r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:n+" my-flex-box",onClick:a.activeEditMode},a.state.title,", ",t),r.a.createElement("select",{value:t,onChange:a.handleChangeSelect,className:"my-flex-box"},r.a.createElement("option",{value:"Low"},"Low"),r.a.createElement("option",{value:"Middle"},"Middle"),r.a.createElement("option",{selected:!0,value:"Hi"},"Hi"),r.a.createElement("option",{value:"Urgently"},"Urgently"),r.a.createElement("option",{value:"Later"},"Later")),r.a.createElement("span",{onClick:a.handleDeleteTask,className:"my-flex-box del-task"},"\u2718")))},a}return Object(d.a)(e,t),e}(r.a.Component)),T=function(t){function e(){var t,a;Object(s.a)(this,e);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(l.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(o)))).render=function(){var t=a.props.tasks.map(function(t){return r.a.createElement(m,{key:t.id,task:t,changeTask:a.props.changeTask,deleteTask:a.props.deleteTask})});return 0!==t.length?r.a.createElement("div",{className:"todoList-tasks"},t):null},a}return Object(d.a)(e,t),e}(r.a.Component),k=(a(40),function(t){function e(){var t,a;Object(s.a)(this,e);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(r)))).state={addMode:!1,title:a.props.title},a.activateEditMode=function(){return a.setState({addMode:!0})},a.deactivateEditMode=function(){a.setState({addMode:!1});var t=a.state.title;a.props.changeTitleList(t)},a.onTitleChanged=function(t){var e=t.currentTarget.value;a.setState({title:e})},a}return Object(d.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){return r.a.createElement("div",{className:"headerTitle"},this.state.addMode?r.a.createElement("input",{type:"text",value:this.state.title,onBlur:this.deactivateEditMode,onChange:this.onTitleChanged}):r.a.createElement("h3",{className:"todoList-header__title",onClick:this.activateEditMode},this.state.title))}}]),e}(r.a.Component)),b=a(8),v=a(11),L=a(14),E=a.n(L),O=E.a.create({baseURL:"https://social-network.samuraijs.com/api/1.1/todo-lists",withCredentials:!0,headers:{"API-KEY":"29f9fa1b-6eaa-4e21-8fb8-288f6a026f6c"}}),g=function(){return O.get("").then(function(t){return t.data})},y=function(t){return O.post("",{title:t}).then(function(t){return t.data.data.item})},C=function(t){return O.delete("/".concat(t)).then(function(t){return t.data.resultCode})},j=function(t,e){return O.put("/".concat(e),{title:t}).then(function(t){return t.data})},w=function(t){return O.get("/".concat(t,"/tasks")).then(function(t){return t.data.items})},S=function(t,e){return O.post("/".concat(e,"/tasks"),{title:t}).then(function(t){if(0===t.data.resultCode)return t.data.data.item})},A=function(t,e){return O.delete("/".concat(e,"/tasks/").concat(t)).then(function(t){return t.data.resultCode})},D=function(t,e,a){return O.put("/".concat(a,"/tasks/").concat(e),t).then(function(t){return t.data.data.item})},I="TodoList/Reducer/ADD-TASK",N=E.a.create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"29f9fa1b-6eaa-4e21-8fb8-288f6a026f6c"}}),M=function(t,e,a){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return N.post("auth/login",{email:"petrushin.vyac@yandex.ru",password:"488661632",rememberMe:a,captcha:n}).then(function(t){return t.data})};function R(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,n)}return a}function F(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?R(a,!0).forEach(function(e){Object(f.a)(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):R(a).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}var P={todoLists:[],errorMessage:!1,authorization:!1};function x(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,n)}return a}var V=function(t){function e(){var t,a;Object(s.a)(this,e);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(r)))).addTask=function(t){var e=a.props.id;a.props.createTaskThunkCreator(t,e)},a.changeTask=function(t,e){var n=a.props.id,r=a.props.tasks.find(function(e){return e.id===t});if(r){var o=function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?x(a,!0).forEach(function(e){Object(f.a)(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):x(a).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}({},r,{},e);a.props.updateTaskThunkCreator(o,t,n)}},a.changeFilter=function(t){var e=a.props.id;a.props.filterTasks(t,e)},a.deleteTask=function(t){var e=a.props.id;a.props.deleteTaskThunkCreator(t,e)},a.deleteToDoList=function(){var t=a.props.id;a.props.deleteToDoListThunkCreator(t)},a.changeTitleList=function(t){var e=a.props.id;a.props.updateTitleToDoListThunkCreator(t,e)},a}return Object(d.a)(e,t),Object(c.a)(e,[{key:"componentDidMount",value:function(){var t=this.props.id;this.props.getTasksThunkCreator(t)}},{key:"render",value:function(){var t,e,a=this.props.errorMessage&&"Error";return r.a.createElement("div",{className:"wrapper_todoList"},r.a.createElement("div",{className:"todoList"},r.a.createElement("div",{className:"wrapper_deleted",onClick:this.deleteToDoList},"\u2718"),r.a.createElement("header",{className:"header"},r.a.createElement(k,{title:this.props.title,changeTitleList:this.changeTitleList}),r.a.createElement(p,{addItem:this.addTask})),r.a.createElement(T,{tasks:(t=this.props.tasks,e=this.props.filterValue,t.filter(function(t){switch(e){case"All":return!0;case"Completed":return 2===t.status;case"Active":return 0===t.status}})),changeTask:this.changeTask,deleteTask:this.deleteTask}),r.a.createElement(h,{changeFilter:this.changeFilter,filterValue:this.props.filterValue})),a)}}]),e}(r.a.Component),K=Object(b.b)(function(t){return{errorMessage:t.todoListsPage.errorMessage}},{filterTasks:function(t,e){return{type:"TodoList/Reducer/FILTER-TASK",newFilterValue:t,todoListId:e}},deleteToDoListThunkCreator:function(t){return function(e){C(t).then(function(a){0===a&&e(function(t){return{type:"TodoList/Reducer/DELETE-TODOLIST",todoListId:t}}(t))})}},updateTitleToDoListThunkCreator:function(t,e){return function(a){j(t,e).then(function(n){a(function(t,e){return{type:"TodoList/Reducer/CHANGE_TITLE_LIST",newTitle:t,todoListId:e}}(t,e))})}},getTasksThunkCreator:function(t){return function(e){w(t).then(function(a){e(function(t,e){return{type:"TodoList/Reducer/SET-TASKS",tasks:t,todoListId:e}}(a,t))})}},createTaskThunkCreator:function(t,e){return function(a){S(t,e).then(function(t){a(function(t,e){return{type:I,newTask:t,todoListId:e}}(t,e))})}},deleteTaskThunkCreator:function(t,e){return function(a){A(t,e).then(function(n){0===n&&a(function(t,e){return{type:"TodoList/Reducer/DELETE-TASK",taskId:t,todoListId:e}}(t,e))})}},updateTaskThunkCreator:function(t,e,a){return function(n){D(t,e,a).then(function(t){n({type:"TodoList/Reducer/CHANGE-TASK",updatedTask:t})})}}})(V),H=(a(64),function(t){function e(){var t,a;Object(s.a)(this,e);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(r)))).state={email:"petrushin.vyac@yandex.ru",password:"488661632",rememberMe:!1},a.onHandleSubmit=function(t){t.preventDefault();var e=a.state,n=e.email,r=e.password,o=e.rememberMe;a.props.authorizationUser(n,r,o)},a}return Object(d.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){var t=this.state,e=t.email,a=t.password,n="petrushin.vyac@yandex.ru"!==e&&"488661632"!==a;return r.a.createElement("div",{className:"form-wrap"},r.a.createElement("div",{className:"profile"},r.a.createElement("div",{className:"login-photo"}),r.a.createElement("h1",null,"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f")),r.a.createElement("form",{className:"login-form",onSubmit:this.onHandleSubmit},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"email"},"E-mail"),r.a.createElement("input",{type:"email",name:"email",placeholder:"free@samuraijs.com",value:e,required:!0})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",name:"password",required:!0,placeholder:"free",value:a})),r.a.createElement("button",{type:"submit",disabled:n},"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c")))}}]),e}(n.Component)),_=Object(b.b)(null,{authorizationUser:function(t,e,a){return function(n){M(t,e,a).then(function(t){0===t.resultCode&&n({type:"TodoList/Reducer/FORM_LOGIN"})})}}})(H),z=function(t){function e(){var t,a;Object(s.a)(this,e);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(r)))).addToDoList=function(t){a.props.createToDoListThunkCreator(t)},a}return Object(d.a)(e,t),Object(c.a)(e,[{key:"componentDidUpdate",value:function(t,e){t.authorization!==this.props.authorization&&this.props.getToDolistThunkCreator()}},{key:"render",value:function(){var t=this.props.todoLists.map(function(t){return r.a.createElement(K,{id:t.id,title:t.title,key:t.id,tasks:t.tasks,filterValue:t.filterValue})});return r.a.createElement("div",{className:"wrapper"},this.props.authorization?r.a.createElement(r.a.Fragment,null,r.a.createElement(p,{addItem:this.addToDoList}),r.a.createElement("div",{className:"App"},t)):r.a.createElement(_,null))}}]),e}(r.a.Component),U=Object(b.b)(function(t){return{todoLists:t.todoListsPage.todoLists,authorization:t.todoListsPage.authorization}},{getToDolistThunkCreator:function(){return function(t){g().then(function(e){t({type:"TodoList/Reducer/SET-TODOLIST",todoLists:e})})}},createToDoListThunkCreator:function(t){return function(e){y(t).then(function(t){e({type:"TodoList/Reducer/ADD-TODOLIST",newToDolist:t})})}}})(z),G=a(10),B=a(29),q=Object(G.c)({todoListsPage:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"TodoList/Reducer/ADD-TODOLIST":return F({},t,{todoLists:[].concat(Object(v.a)(t.todoLists),[F({},e.newToDolist,{tasks:[],filterValue:"All"})])});case"TodoList/Reducer/CHANGE_TITLE_LIST":return F({},t,{todoLists:t.todoLists.map(function(t){return t.id===e.todoListId?F({},t,{title:e.newTitle}):t})});case I:return F({},t,{todoLists:t.todoLists.map(function(t){return t.id===e.todoListId?F({},t,{tasks:[].concat(Object(v.a)(t.tasks),[e.newTask])}):t})});case"TodoList/Reducer/CHANGE-TASK":return F({},t,{todoLists:t.todoLists.map(function(t){return t.id===e.updatedTask.todoListId?F({},t,{tasks:t.tasks.map(function(t){return t.id===e.updatedTask.id?F({},t,{},e.updatedTask):t})}):t})});case"TodoList/Reducer/FILTER-TASK":return F({},t,{todoLists:t.todoLists.map(function(t){return t.id===e.todoListId?F({},t,{filterValue:e.newFilterValue}):t})});case"TodoList/Reducer/DELETE-TASK":return F({},t,{todoLists:t.todoLists.map(function(t){return t.id===e.todoListId?F({},t,{tasks:t.tasks.filter(function(t){return t.id!==e.taskId})}):t})});case"TodoList/Reducer/DELETE-TODOLIST":return F({},t,{todoLists:t.todoLists.filter(function(t){return t.id!==e.todoListId})});case"TodoList/Reducer/SET-TODOLIST":var a=e.todoLists.map(function(t){return F({},t,{tasks:[],filterValue:"All"})});return F({},t,{todoLists:a});case"TodoList/Reducer/SET-TASKS":return F({},t,{todoLists:t.todoLists.map(function(t){return t.id===e.todoListId?F({},t,{tasks:[].concat(Object(v.a)(t.tasks),Object(v.a)(e.tasks))}):t})});case"TodoList/Reducer/FORM_LOGIN":return F({},t,{authorization:!0});default:return t}}}),J=Object(G.d)(q,Object(G.a)(B.a));i.a.render(r.a.createElement(b.a,{store:J},r.a.createElement(U,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[30,1,2]]]);
//# sourceMappingURL=main.1acabe4b.chunk.js.map