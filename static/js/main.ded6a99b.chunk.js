(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{18:function(t,e,n){},30:function(t,e,n){t.exports=n(64)},35:function(t,e,n){},36:function(t,e,n){},37:function(t,e,n){},38:function(t,e,n){},39:function(t,e,n){},40:function(t,e,n){},64:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),o=n(12),i=n.n(o);n(35),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var s=n(1),c=n(8),u=n(3),l=n(2),d=n(4),p=(n(18),n(36),function(t){function e(){var t,n;Object(s.a)(this,e);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(n=Object(u.a)(this,(t=Object(l.a)(e)).call.apply(t,[this].concat(o)))).state={error:!1,title:""},n.onAddItemClick=function(){var t=n.state.title;""===t?n.setState({error:!0}):(n.setState({error:!1,title:""}),n.props.addItem(t))},n.handleClick=function(t){var e=t.target.value.trimLeft();n.setState({error:!1,title:e})},n.handleEnter=function(t){"Enter"===t.key&&n.onAddItemClick()},n.render=function(){var t=n.state.error?"error":"";return r.a.createElement("div",{className:"todoList-newTaskForm"},r.a.createElement("input",{value:n.state.title,type:"text",placeholder:"New task name",className:t+" inputList",onChange:n.handleClick,onKeyPress:n.handleEnter}),r.a.createElement("button",{className:"button",onClick:n.onAddItemClick},r.a.createElement("span",null,"Add")))},n}return Object(d.a)(e,t),e}(r.a.Component)),f=n(13),h=(n(37),n(38),function(t){function e(){var t,n;Object(s.a)(this,e);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(n=Object(u.a)(this,(t=Object(l.a)(e)).call.apply(t,[this].concat(o)))).onAllFilterClick=function(){n.props.changeFilter("All")},n.onCompletedFilterClick=function(){n.props.changeFilter("Completed")},n.onActiveFilterClick=function(){n.props.changeFilter("Active")},n.render=function(){var t="All"===n.props.filterValue?"filter-active":"",e="Completed"===n.props.filterValue?"filter-active":"",a="Active"===n.props.filterValue?"filter-active":"";return r.a.createElement("div",{className:"todoList-footer"},r.a.createElement("div",null,r.a.createElement("button",{onClick:n.onAllFilterClick,className:t+" buttonSort buttonSort1"},"All"),r.a.createElement("button",{onClick:n.onCompletedFilterClick,className:e+" buttonSort buttonSort1"},"Completed"),r.a.createElement("button",{onClick:n.onActiveFilterClick,className:a+" buttonSort buttonSort1"},"Active")))},n}return Object(d.a)(e,t),e}(r.a.Component)),T=(n(39),function(t){function e(){var t,n;Object(s.a)(this,e);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(n=Object(u.a)(this,(t=Object(l.a)(e)).call.apply(t,[this].concat(o)))).state={addMode:!1,title:n.props.task.title},n.activeEditMode=function(){n.setState({addMode:!0})},n.deactivateEditMode=function(){n.setState({addMode:!1}),n.props.changeTask(n.props.task.id,{title:n.state.title})},n.onIsDoneChanged=function(t){var e=t.currentTarget.checked?2:0;n.props.changeTask(n.props.task.id,{status:e})},n.onTitleChanged=function(t){var e=t.currentTarget.value;n.setState({title:e})},n.handleDeleteTask=function(){n.props.deleteTask(n.props.task.id)},n.handleChangeSelect=function(t){var e;switch(t.target.value){case"Low":e=0;break;case"Middle":e=1;break;case"Hi":e=2;break;case"Urgently":e=3;break;case"Later":e=4}n.props.changeTask(n.props.task.id,{priority:e})},n.render=function(){var t,e=2===n.props.task.status,a=e?"done":"";switch(n.props.task.priority){case 0:t="Low";break;case 1:t="Middle";break;case 2:t="Hi";break;case 3:t="Urgently";break;case 4:t="Later"}return r.a.createElement("div",{className:"todoList-task"},r.a.createElement("input",{type:"checkbox",checked:e,onChange:n.onIsDoneChanged,className:a+" my-flex-box custom-checkbox"}),n.state.addMode?r.a.createElement("input",{type:"text",value:n.state.title,autoFocus:!0,onBlur:n.deactivateEditMode,onChange:n.onTitleChanged,className:"my-flex-box"}):r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:a+" my-flex-box",onClick:n.activeEditMode},n.state.title,", ",t),r.a.createElement("select",{value:t,onChange:n.handleChangeSelect,className:"my-flex-box"},r.a.createElement("option",{value:"Low"},"Low"),r.a.createElement("option",{value:"Middle"},"Middle"),r.a.createElement("option",{selected:!0,value:"Hi"},"Hi"),r.a.createElement("option",{value:"Urgently"},"Urgently"),r.a.createElement("option",{value:"Later"},"Later")),r.a.createElement("span",{style:{color:"red",margin:"0 10px"},onClick:n.handleDeleteTask,className:"my-flex-box"},"\u2718")))},n}return Object(d.a)(e,t),e}(r.a.Component)),k=function(t){function e(){var t,n;Object(s.a)(this,e);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(n=Object(u.a)(this,(t=Object(l.a)(e)).call.apply(t,[this].concat(o)))).render=function(){var t=n.props.tasks.map(function(t){return r.a.createElement(T,{key:t.id,task:t,changeTask:n.props.changeTask,deleteTask:n.props.deleteTask})});return 0!==t.length?r.a.createElement("div",{className:"todoList-tasks"},t):null},n}return Object(d.a)(e,t),e}(r.a.Component),m=(n(40),function(t){function e(){var t,n;Object(s.a)(this,e);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(t=Object(l.a)(e)).call.apply(t,[this].concat(r)))).state={addMode:!1,title:n.props.title},n.activateEditMode=function(){return n.setState({addMode:!0})},n.deactivateEditMode=function(){n.setState({addMode:!1});var t=n.state.title;n.props.changeTitleList(t)},n.onTitleChanged=function(t){var e=t.currentTarget.value;n.setState({title:e})},n}return Object(d.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){return r.a.createElement("div",{className:"headerTitle"},this.state.addMode?r.a.createElement("input",{type:"text",value:this.state.title,onBlur:this.deactivateEditMode,onChange:this.onTitleChanged}):r.a.createElement("h3",{className:"todoList-header__title",onClick:this.activateEditMode},this.state.title))}}]),e}(r.a.Component)),L=n(9),b=n(11),v=n(28),O=n.n(v).a.create({baseURL:"https://social-network.samuraijs.com/api/1.1/todo-lists",withCredentials:!0,headers:{"API-KEY":"c42da93b-73d1-47c9-9b91-cb5950b4c7d5"}}),g=function(){return O.get("").then(function(t){return t.data})},E=function(t){return O.post("",{title:t}).then(function(t){return t.data.data.item})},y=function(t){return O.delete("/".concat(t)).then(function(t){return t.data.resultCode})},C=function(t,e){return O.put("/".concat(e),{title:t}).then(function(t){return t.data})},j=function(t){return O.get("/".concat(t,"/tasks")).then(function(t){return t.data.items})},w=function(t,e){return O.post("/".concat(e,"/tasks"),{title:t}).then(function(t){if(0===t.data.resultCode)return t.data.data.item})},D=function(t,e){return O.delete("/".concat(e,"/tasks/").concat(t)).then(function(t){return t.data.resultCode})},S=function(t,e,n){return O.put("/".concat(n,"/tasks/").concat(e),t).then(function(t){return t.data.data.item})},A="TodoList/Reducer/ADD-TASK";function I(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,a)}return n}function N(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?I(n,!0).forEach(function(e){Object(f.a)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var M={todoLists:[],errorMessage:!1};function P(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,a)}return n}var R=function(t){function e(){var t,n;Object(s.a)(this,e);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(t=Object(l.a)(e)).call.apply(t,[this].concat(r)))).addTask=function(t){var e=n.props.id;n.props.createTaskThunkCreator(t,e)},n.changeTask=function(t,e){var a=n.props.id,r=n.props.tasks.find(function(e){return e.id===t});if(r){var o=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?P(n,!0).forEach(function(e){Object(f.a)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},r,{},e);n.props.updateTaskThunkCreator(o,t,a)}},n.changeFilter=function(t){var e=n.props.id;n.props.filterTasks(t,e)},n.deleteTask=function(t){var e=n.props.id;n.props.deleteTaskThunkCreator(t,e)},n.deleteToDoList=function(){var t=n.props.id;n.props.deleteToDoListThunkCreator(t)},n.changeTitleList=function(t){var e=n.props.id;n.props.updateTitleToDoListThunkCreator(t,e)},n}return Object(d.a)(e,t),Object(c.a)(e,[{key:"componentDidMount",value:function(){var t=this.props.id;this.props.getTasksThunkCreator(t)}},{key:"render",value:function(){var t,e,n=this.props.errorMessage&&"Error";return r.a.createElement("div",{className:"wrapper_todoList"},r.a.createElement("div",{className:"todoList"},r.a.createElement("div",{className:"wrapper_deleted",onClick:this.deleteToDoList},"\u2718"),r.a.createElement("header",{className:"header"},r.a.createElement(m,{title:this.props.title,changeTitleList:this.changeTitleList}),r.a.createElement(p,{addItem:this.addTask})),r.a.createElement(k,{tasks:(t=this.props.tasks,e=this.props.filterValue,t.filter(function(t){switch(e){case"All":return!0;case"Completed":return 2===t.status;case"Active":return 0===t.status}})),changeTask:this.changeTask,deleteTask:this.deleteTask}),r.a.createElement(h,{changeFilter:this.changeFilter,filterValue:this.props.filterValue})),n)}}]),e}(r.a.Component),F=Object(L.b)(function(t){return{errorMessage:t.todoListsPage.errorMessage}},{filterTasks:function(t,e){return{type:"TodoList/Reducer/FILTER-TASK",newFilterValue:t,todoListId:e}},deleteToDoListThunkCreator:function(t){return function(e){y(t).then(function(n){0===n&&e(function(t){return{type:"TodoList/Reducer/DELETE-TODOLIST",todoListId:t}}(t))})}},updateTitleToDoListThunkCreator:function(t,e){return function(n){C(t,e).then(function(a){n(function(t,e){return{type:"TodoList/Reducer/CHANGE_TITLE_LIST",newTitle:t,todoListId:e}}(t,e))})}},getTasksThunkCreator:function(t){return function(e){j(t).then(function(n){e(function(t,e){return{type:"TodoList/Reducer/SET-TASKS",tasks:t,todoListId:e}}(n,t))})}},createTaskThunkCreator:function(t,e){return function(n){w(t,e).then(function(t){n(function(t,e){return{type:A,newTask:t,todoListId:e}}(t,e))})}},deleteTaskThunkCreator:function(t,e){return function(n){D(t,e).then(function(a){0===a&&n(function(t,e){return{type:"TodoList/Reducer/DELETE-TASK",taskId:t,todoListId:e}}(t,e))})}},updateTaskThunkCreator:function(t,e,n){return function(a){S(t,e,n).then(function(t){a({type:"TodoList/Reducer/CHANGE-TASK",updatedTask:t})})}}})(R),x=function(t){function e(){var t,n;Object(s.a)(this,e);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(t=Object(l.a)(e)).call.apply(t,[this].concat(r)))).addToDoList=function(t){n.props.createToDoListThunkCreator(t)},n}return Object(d.a)(e,t),Object(c.a)(e,[{key:"componentDidMount",value:function(){this.props.getToDolistThunkCreator()}},{key:"render",value:function(){var t=this.props.todoLists.map(function(t){return r.a.createElement(F,{id:t.id,title:t.title,key:t.id,tasks:t.tasks,filterValue:t.filterValue})});return r.a.createElement("div",{className:"wrapper"},r.a.createElement(p,{addItem:this.addToDoList}),r.a.createElement("div",{className:"App"},t))}}]),e}(r.a.Component),V=Object(L.b)(function(t){return{todoLists:t.todoListsPage.todoLists}},{getToDolistThunkCreator:function(){return function(t){g().then(function(e){t({type:"TodoList/Reducer/SET-TODOLIST",todoLists:e})})}},createToDoListThunkCreator:function(t){return function(e){E(t).then(function(t){e({type:"TodoList/Reducer/ADD-TODOLIST",newToDolist:t})})}}})(x),K=n(10),H=n(29),_=Object(K.c)({todoListsPage:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"TodoList/Reducer/ADD-TODOLIST":return N({},t,{todoLists:[].concat(Object(b.a)(t.todoLists),[N({},e.newToDolist,{tasks:[],filterValue:"All"})])});case"TodoList/Reducer/CHANGE_TITLE_LIST":return N({},t,{todoLists:t.todoLists.map(function(t){return t.id===e.todoListId?N({},t,{title:e.newTitle}):t})});case A:return N({},t,{todoLists:t.todoLists.map(function(t){return t.id===e.todoListId?N({},t,{tasks:[].concat(Object(b.a)(t.tasks),[e.newTask])}):t})});case"TodoList/Reducer/CHANGE-TASK":return N({},t,{todoLists:t.todoLists.map(function(t){return t.id===e.updatedTask.todoListId?N({},t,{tasks:t.tasks.map(function(t){return t.id===e.updatedTask.id?N({},t,{},e.updatedTask):t})}):t})});case"TodoList/Reducer/FILTER-TASK":return N({},t,{todoLists:t.todoLists.map(function(t){return t.id===e.todoListId?N({},t,{filterValue:e.newFilterValue}):t})});case"TodoList/Reducer/DELETE-TASK":return N({},t,{todoLists:t.todoLists.map(function(t){return t.id===e.todoListId?N({},t,{tasks:t.tasks.filter(function(t){return t.id!==e.taskId})}):t})});case"TodoList/Reducer/DELETE-TODOLIST":return N({},t,{todoLists:t.todoLists.filter(function(t){return t.id!==e.todoListId})});case"TodoList/Reducer/SET-TODOLIST":var n=e.todoLists.map(function(t){return N({},t,{tasks:[],filterValue:"All"})});return N({},t,{todoLists:n});case"TodoList/Reducer/SET-TASKS":return N({},t,{todoLists:t.todoLists.map(function(t){return t.id===e.todoListId?N({},t,{tasks:[].concat(Object(b.a)(t.tasks),Object(b.a)(e.tasks))}):t})});default:return t}}}),U=Object(K.d)(_,Object(K.a)(H.a));i.a.render(r.a.createElement(L.a,{store:U},r.a.createElement(V,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[30,1,2]]]);
//# sourceMappingURL=main.ded6a99b.chunk.js.map