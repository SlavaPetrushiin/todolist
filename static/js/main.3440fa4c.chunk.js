(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{18:function(t,e,n){},29:function(t,e,n){t.exports=n(59)},34:function(t,e,n){},59:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),o=n(12),i=n.n(o);n(34),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var s=n(1),c=n(8),l=n(3),d=n(2),u=n(4),p=(n(18),function(t){function e(){var t,n;Object(s.a)(this,e);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(n=Object(l.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(o)))).state={error:!1,title:""},n.onAddItemClick=function(){var t=n.state.title;""===t?n.setState({error:!0}):(n.setState({error:!1,title:""}),n.props.addItem(t))},n.handleClick=function(t){var e=t.target.value.trimLeft();n.setState({error:!1,title:e})},n.handleEnter=function(t){"Enter"===t.key&&n.onAddItemClick()},n.render=function(){var t=n.state.error?"error":"";return r.a.createElement("div",{className:"todoList-newTaskForm"},r.a.createElement("input",{value:n.state.title,type:"text",placeholder:"New task name",className:t,onChange:n.handleClick,onKeyPress:n.handleEnter}),r.a.createElement("button",{onClick:n.onAddItemClick},"Add"))},n}return Object(u.a)(e,t),e}(r.a.Component)),f=n(13),h=function(t){function e(){var t,n;Object(s.a)(this,e);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(n=Object(l.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(o)))).state={isHidden:!1},n.onAllFilterClick=function(){n.props.changeFilter("All")},n.onCompletedFilterClick=function(){n.props.changeFilter("Completed")},n.onActiveFilterClick=function(){n.props.changeFilter("Active")},n.onShowFiltersClick=function(){n.setState({isHidden:!1})},n.onHideFiltersClick=function(){n.setState({isHidden:!0})},n.render=function(){var t="All"===n.props.filterValue?"filter-active":"",e="Completed"===n.props.filterValue?"filter-active":"",a="Active"===n.props.filterValue?"filter-active":"";return r.a.createElement("div",{className:"todoList-footer"},!n.state.isHidden&&r.a.createElement("div",null,r.a.createElement("button",{onClick:n.onAllFilterClick,className:t},"All"),r.a.createElement("button",{onClick:n.onCompletedFilterClick,className:e},"Completed"),r.a.createElement("button",{onClick:n.onActiveFilterClick,className:a},"Active")),!n.state.isHidden&&r.a.createElement("span",{onClick:n.onHideFiltersClick},"hide"),n.state.isHidden&&r.a.createElement("span",{onClick:n.onShowFiltersClick},"show"))},n}return Object(u.a)(e,t),e}(r.a.Component),T=function(t){function e(){var t,n;Object(s.a)(this,e);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(n=Object(l.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(o)))).state={addMode:!1,title:n.props.task.title},n.activeEditMode=function(){n.setState({addMode:!0})},n.deactivateEditMode=function(){n.setState({addMode:!1}),n.props.changeTask(n.props.task.id,{title:n.state.title})},n.onIsDoneChanged=function(t){var e=t.currentTarget.checked?2:0;n.props.changeTask(n.props.task.id,{status:e})},n.onTitleChanged=function(t){var e=t.currentTarget.value;n.setState({title:e})},n.handleDeleteTask=function(){n.props.deleteTask(n.props.task.id)},n.handleChangeSelect=function(t){var e;switch(t.target.value){case"Low":e=0;break;case"Middle":e=1;break;case"Hi":e=2;break;case"Urgently":e=3;break;case"Later":e=4}n.props.changeTask(n.props.task.id,{priority:e})},n.render=function(){var t,e=2===n.props.task.status,a=e?"done":"";switch(n.props.task.priority){case 0:t="Low";break;case 1:t="Middle";break;case 2:t="Hi";break;case 3:t="Urgently";break;case 4:t="Later"}return r.a.createElement("div",{className:"todoList-task"},r.a.createElement("input",{type:"checkbox",checked:e,onChange:n.onIsDoneChanged,className:a}),n.state.addMode?r.a.createElement("input",{type:"text",value:n.state.title,autoFocus:!0,onBlur:n.deactivateEditMode,onChange:n.onTitleChanged}):r.a.createElement("div",null,r.a.createElement("span",{className:a,onClick:n.activeEditMode},n.state.title,",",t),r.a.createElement("select",{value:t,onChange:n.handleChangeSelect},r.a.createElement("option",{value:"Low"},"Low"),r.a.createElement("option",{value:"Middle"},"Middle"),r.a.createElement("option",{selected:!0,value:"Hi"},"Hi"),r.a.createElement("option",{value:"Urgently"},"Urgently"),r.a.createElement("option",{value:"Later"},"Later")),r.a.createElement("span",{style:{color:"red"},onClick:n.handleDeleteTask},"\u2718")))},n}return Object(u.a)(e,t),e}(r.a.Component),k=function(t){function e(){var t,n;Object(s.a)(this,e);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(n=Object(l.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(o)))).render=function(){var t=n.props.tasks.map(function(t){return r.a.createElement(T,{key:t.id,task:t,changeTask:n.props.changeTask,deleteTask:n.props.deleteTask})});return 0!==t.length?r.a.createElement("div",{className:"todoList-tasks"},t):null},n}return Object(u.a)(e,t),e}(r.a.Component),m=function(t){function e(){var t,n;Object(s.a)(this,e);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(l.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(r)))).state={addMode:!1,title:n.props.title},n.handleDeleteList=function(){n.props.deleteToDoList()},n.activateEditMode=function(){return n.setState({addMode:!0})},n.deactivateEditMode=function(){n.setState({addMode:!1}),n.props.changeTitleList({title:n.state.title})},n.onTitleChanged=function(t){var e=t.currentTarget.value;n.setState({title:e})},n}return Object(u.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){return r.a.createElement("div",{className:"headerTitle"},this.state.addMode?r.a.createElement("input",{type:"text",value:this.state.title,onBlur:this.deactivateEditMode,onChange:this.onTitleChanged}):r.a.createElement("h3",{className:"todoList-header__title",onClick:this.activateEditMode},this.state.title),r.a.createElement("span",{style:{color:"red"},onClick:this.handleDeleteList},"\u2718"))}}]),e}(r.a.Component),L=n(9),v=n(11),b=n(40).create({baseURL:"https://social-network.samuraijs.com/api/1.1/todo-lists",withCredentials:!0,headers:{"API-KEY":"c42da93b-73d1-47c9-9b91-cb5950b4c7d5"}}),E=function(){return b.get()},O=function(t){return b.post("",{title:t})},g=function(t){return b.delete("/".concat(t))},C=function(t,e){return b.put("/".concat(e),{title:t})},y=function(t){return b.get("/".concat(t,"/tasks"))},j=function(t,e){return b.post("/".concat(e,"/tasks"),{title:t})},w=function(t,e){return b.delete("/".concat(e,"/tasks/").concat(t))},D=function(t,e,n){return b.put("/".concat(n,"/tasks/").concat(e),t)},A="TodoList/Reducer/ADD-TASK";function S(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,a)}return n}function I(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?S(n,!0).forEach(function(e){Object(f.a)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var M={todoLists:[],errorMessage:!1},R=function(t,e){return function(n){j(t,e).then(function(t){if(0===t.data.resultCode){var a=I({},t.data.data.item);n(function(t,e){return{type:A,newTask:t,todoListId:e}}(a,e))}})}};function F(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,a)}return n}var N=function(t){function e(){var t,n;Object(s.a)(this,e);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(l.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(r)))).addTask=function(t){var e=n.props.id;n.props.createTaskThunkCreator(t,e)},n.changeTask=function(t,e){var a=n.props.id,r=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?F(n,!0).forEach(function(e){Object(f.a)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):F(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},n.props.tasks.find(function(e){return e.id===t}),{},e);n.props.updateTaskThunkCreator(r,t,a)},n.changeFilter=function(t){var e=n.props.id;n.props.filterTasks(t,e)},n.deleteTask=function(t){var e=n.props.id;n.props.deleteTaskThunkCreator(t,e)},n.deleteToDoList=function(){var t=n.props.id;n.props.deleteToDoListThunkCreator(t)},n.changeTitleList=function(t){var e=t.title,a=n.props.id;n.props.updateTitleToDoListThunkCreator(e,a)},n}return Object(u.a)(e,t),Object(c.a)(e,[{key:"componentDidMount",value:function(){var t=this.props.id;this.props.getTasksThunkCreator(t)}},{key:"render",value:function(){var t,e,n=this.props.errorMessage&&"Error";return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"todoList"},r.a.createElement("header",{className:"header"},r.a.createElement(m,{title:this.props.title,deleteToDoList:this.deleteToDoList,changeTitleList:this.changeTitleList}),r.a.createElement(p,{addItem:this.addTask})),r.a.createElement(k,{tasks:(t=this.props.tasks,e=this.props.filterValue,t.filter(function(t){switch(e){case"All":return!0;case"Completed":return!t.isDone;case"Active":return t.isDone}})),changeTask:this.changeTask,deleteTask:this.deleteTask}),r.a.createElement(h,{changeFilter:this.changeFilter,filterValue:this.props.filterValue})),n)}}]),e}(r.a.Component),P=Object(L.b)(function(t){return{errorMessage:t.todoListsPage.errorMessage}},function(t){return{filterTasks:function(e,n){t(function(t,e){return{type:"TodoList/Reducer/FILTER-TASK",newFilterValue:t,todoListId:e}}(e,n))},showErrorMessage:function(){t({type:"TodoList/Reducer/ERROR"})},deleteToDoListThunkCreator:function(e){t(function(t){return function(e){g(t).then(function(n){0===n.data.resultCode&&e(function(t){return{type:"TodoList/Reducer/DELETE-TODOLIST",todoListId:t}}(t))})}}(e))},updateTitleToDoListThunkCreator:function(e,n){t(function(t,e){return function(n){C(t,e).then(function(a){n(function(t,e){return{type:"TodoList/Reducer/CHANGE_TITLE_LIST",newTitle:t,todoListId:e}}(t,e))})}}(e,n))},getTasksThunkCreator:function(e){t(function(t){return function(e){y(t).then(function(n){var a=n.data.items;e(function(t,e){return{type:"TodoList/Reducer/SET-TASKS",tasks:t,todoListId:e}}(a,t))})}}(e))},createTaskThunkCreator:function(e,n){t(R(e,n))},deleteTaskThunkCreator:function(e,n){t(function(t,e){return function(n){w(t,e).then(function(a){0===a.data.resultCode&&n(function(t,e){return{type:"TodoList/Reducer/DELETE-TASK",taskId:t,todoListId:e}}(t,e))})}}(e,n))},updateTaskThunkCreator:function(e,n,a){t(function(t,e,n){return function(a){D(t,e,n).then(function(t){a({type:"TodoList/Reducer/CHANGE-TASK",updatedTask:t.data.data.item})})}}(e,n,a))}}})(N),H=function(t){function e(){var t,n;Object(s.a)(this,e);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(l.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(r)))).addToDoList=function(t){n.props.createToDoListThunkCreator(t)},n}return Object(u.a)(e,t),Object(c.a)(e,[{key:"componentDidMount",value:function(){this.props.getToDolistThunkCreator()}},{key:"render",value:function(){var t=this.props.todoLists.map(function(t){return r.a.createElement(P,{id:t.id,title:t.title,key:t.id,tasks:t.tasks,filterValue:t.filterValue})});return r.a.createElement(r.a.Fragment,null,r.a.createElement(p,{addItem:this.addToDoList}),r.a.createElement("div",{className:"App"},t))}}]),e}(r.a.Component),V=Object(L.b)(function(t){return{todoLists:t.todoListsPage.todoLists}},function(t){return{getToDolistThunkCreator:function(){return t(function(t){E().then(function(t){return t.data}).then(function(e){t({type:"TodoList/Reducer/SET-TODOLIST",todoLists:e})})})},createToDoListThunkCreator:function(e){return t(function(t){return function(e){O(t).then(function(t){var n=t.data.data.item;e({type:"TodoList/Reducer/ADD-TODOLIST",newToDolist:n})})}}(e))}}})(H),K=n(10),_=n(28),x=Object(K.c)({todoListsPage:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"TodoList/Reducer/ADD-TODOLIST":return I({},t,{todoLists:[].concat(Object(v.a)(t.todoLists),[I({},e.newToDolist,{tasks:[],filterValue:"All"})])});case"TodoList/Reducer/CHANGE_TITLE_LIST":return I({},t,{todoLists:t.todoLists.map(function(t){return t.id===e.todoListId?I({},t,{title:e.newTitle}):t})});case A:return I({},t,{todoLists:t.todoLists.map(function(t){return t.id===e.todoListId?I({},t,{tasks:[].concat(Object(v.a)(t.tasks),[e.newTask])}):t})});case"TodoList/Reducer/CHANGE-TASK":return I({},t,{todoLists:t.todoLists.map(function(t){return t.id===e.updatedTask.todoListId?I({},t,{tasks:t.tasks.map(function(t){return t.id===e.updatedTask.id?I({},t,{},e.updatedTask):t})}):t})});case"TodoList/Reducer/FILTER-TASK":return I({},t,{todoLists:t.todoLists.map(function(t){return t.id===e.todoListId?I({},t,{filterValue:e.newFilterValue}):t})});case"TodoList/Reducer/DELETE-TASK":return I({},t,{todoLists:t.todoLists.map(function(t){return t.id===e.todoListId?I({},t,{tasks:t.tasks.filter(function(t){return t.id!==e.taskId})}):t})});case"TodoList/Reducer/DELETE-TODOLIST":return I({},t,{todoLists:t.todoLists.filter(function(t){return t.id!==e.todoListId})});case"TodoList/Reducer/SET-TODOLIST":var n=e.todoLists.map(function(t){return I({},t,{tasks:[],filterValue:"All"})});return I({},t,{todoLists:n});case"TodoList/Reducer/SET-TASKS":return I({},t,{todoLists:t.todoLists.map(function(t){return t.id===e.todoListId?I({},t,{tasks:[].concat(Object(v.a)(t.tasks),Object(v.a)(e.tasks))}):t})});default:return t}}}),U=Object(K.d)(x,Object(K.a)(_.a));i.a.render(r.a.createElement(L.a,{store:U},r.a.createElement(V,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[29,1,2]]]);
//# sourceMappingURL=main.3440fa4c.chunk.js.map