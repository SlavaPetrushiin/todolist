(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{109:function(t,e,a){},112:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),o=a(8),i=a.n(o);a(82),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var s=a(12),c=a(17),l=a(13),u=a(14),d=a(15),p=(a(50),a(83),a(153)),f=a(142),h=a(143),m=function(t){function e(){var t,a;Object(s.a)(this,e);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(l.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(o)))).state={error:!1,title:""},a.onAddItemClick=function(){var t=a.state.title;""===t?a.setState({error:!0}):(a.setState({error:!1,title:""}),a.props.addItem(t))},a.handleClick=function(t){var e=t.target.value.trimLeft();a.setState({error:!1,title:e})},a.handleEnter=function(t){"Enter"===t.key&&a.onAddItemClick()},a.render=function(){return r.a.createElement("div",{className:"todoList-newTaskForm"},r.a.createElement(p.a,{variant:"outlined",label:"Type value",value:a.state.title,error:a.state.error,onChange:a.handleClick,onKeyPress:a.handleEnter,className:"add-field"}),r.a.createElement(f.a,{onClick:a.onAddItemClick},r.a.createElement(h.a,null)))},a}return Object(d.a)(e,t),e}(r.a.Component),T=a(10),k=(a(51),a(87),a(144)),v=function(t){function e(){var t,a;Object(s.a)(this,e);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(l.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(o)))).onAllFilterClick=function(){a.props.changeFilter("All")},a.onCompletedFilterClick=function(){a.props.changeFilter("Completed")},a.onActiveFilterClick=function(){a.props.changeFilter("Active")},a.render=function(){var t="All"===a.props.filterValue?"filter-active":"",e="Completed"===a.props.filterValue?"filter-active":"",n="Active"===a.props.filterValue?"filter-active":"";return r.a.createElement("div",{className:"todoList-footer"},r.a.createElement(k.a,{onClick:a.onAllFilterClick,variant:t?"contained":"text"},"All"),r.a.createElement(k.a,{onClick:a.onCompletedFilterClick,color:"primary",variant:e?"contained":"text"},"Completed"),r.a.createElement(k.a,{onClick:a.onActiveFilterClick,color:"secondary",variant:n?"contained":"text"},"Active"))},a}return Object(d.a)(e,t),e}(r.a.Component),L=a(154),b=a(145),E=function(t){function e(){var t,a;Object(s.a)(this,e);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(l.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(o)))).state={addMode:!1,title:a.props.task.title},a.activeEditMode=function(){a.setState({addMode:!0})},a.deactivateEditMode=function(){a.setState({addMode:!1}),a.props.changeTask(a.props.task.id,{title:a.state.title})},a.onIsDoneChanged=function(t){var e=t.currentTarget.checked?2:0;a.props.changeTask(a.props.task.id,{status:e})},a.onTitleChanged=function(t){var e=t.currentTarget.value;a.setState({title:e})},a.handleDeleteTask=function(){a.props.deleteTask(a.props.task.id)},a.handleChangeSelect=function(t){var e;switch(t.target.value){case"Low":e=0;break;case"Middle":e=1;break;case"Hi":e=2;break;case"Urgently":e=3;break;case"Later":e=4}a.props.changeTask(a.props.task.id,{priority:e})},a.render=function(){var t,e=2===a.props.task.status?"done":"";switch(a.props.task.priority){case 0:t="Low";break;case 1:t="Middle";break;case 2:t="Hi";break;case 3:t="Urgently";break;case 4:t="Later"}return r.a.createElement("div",{className:"todoList-task"},r.a.createElement("div",null,r.a.createElement(L.a,{onChange:a.onIsDoneChanged,checked:!!e}),a.state.addMode?r.a.createElement(p.a,{value:a.state.title,autoFocus:!0,onBlur:a.deactivateEditMode,onChange:a.onTitleChanged}):r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:e+" my-flex-box",onClick:a.activeEditMode},a.state.title,", ",t),r.a.createElement("select",{value:t,onChange:a.handleChangeSelect,className:"my-flex-box"},r.a.createElement("option",{value:"Low"},"Low"),r.a.createElement("option",{value:"Middle"},"Middle"),r.a.createElement("option",{selected:!0,value:"Hi"},"Hi"),r.a.createElement("option",{value:"Urgently"},"Urgently"),r.a.createElement("option",{value:"Later"},"Later")))),r.a.createElement(f.a,{onClick:a.handleDeleteTask},r.a.createElement(b.a,null)))},a}return Object(d.a)(e,t),e}(r.a.Component),g=function(t){function e(){var t,a;Object(s.a)(this,e);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(l.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(o)))).render=function(){var t=a.props.tasks.map(function(t){return r.a.createElement(E,{key:t.id,task:t,changeTask:a.props.changeTask,deleteTask:a.props.deleteTask})});return 0!==t.length?r.a.createElement("div",{className:"todoList-tasks"},t):null},a}return Object(d.a)(e,t),e}(r.a.Component),O=(a(88),a(146)),y=function(t){function e(){var t,a;Object(s.a)(this,e);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(r)))).state={addMode:!1,title:a.props.title},a.activateEditMode=function(){return a.setState({addMode:!0})},a.deactivateEditMode=function(){a.setState({addMode:!1});var t=a.state.title;a.props.changeTitleList(t)},a.onTitleChanged=function(t){var e=t.currentTarget.value;a.setState({title:e})},a}return Object(d.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){return r.a.createElement("div",null,this.state.addMode?r.a.createElement(p.a,{type:"text",value:this.state.title,onBlur:this.deactivateEditMode,onChange:this.onTitleChanged,label:"Change title"}):r.a.createElement(O.a,{onClick:this.activateEditMode,variant:"h5"},this.state.title))}}]),e}(r.a.Component),C=a(25),j=a(20),w=a(39),D=a.n(w),A=D.a.create({baseURL:"https://social-network.samuraijs.com/api/1.1/todo-lists",withCredentials:!0,headers:{"API-KEY":"29f9fa1b-6eaa-4e21-8fb8-288f6a026f6c"}}),S=function(){return A.get("").then(function(t){return t.data})},I=function(t){return A.post("",{title:t}).then(function(t){return t.data.data.item})},M=function(t){return A.delete("/".concat(t)).then(function(t){return t.data.resultCode})},R=function(t,e){return A.put("/".concat(e),{title:t}).then(function(t){return t.data})},P=function(t){return A.get("/".concat(t,"/tasks")).then(function(t){return t.data.items})},N=function(t,e){return A.post("/".concat(e,"/tasks"),{title:t}).then(function(t){if(0===t.data.resultCode)return t.data.data.item})},F=function(t,e){return A.delete("/".concat(e,"/tasks/").concat(t)).then(function(t){return t.data.resultCode})},x=function(t,e,a){return A.put("/".concat(a,"/tasks/").concat(e),t).then(function(t){return t.data.data.item})},V="TodoList/Reducer/ADD-TASK",K=D.a.create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"29f9fa1b-6eaa-4e21-8fb8-288f6a026f6c"}}),z=function(t,e,a){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return K.post("auth/login",{email:"petrushin.vyac@yandex.ru",password:"488661632",rememberMe:a,captcha:n}).then(function(t){return t.data})};function H(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,n)}return a}function U(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?H(a,!0).forEach(function(e){Object(T.a)(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):H(a).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}var G={todoLists:[],errorMessage:!1,authorization:!1},_=a(147),B=a(148);function W(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,n)}return a}var J=function(t){function e(){var t,a;Object(s.a)(this,e);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(r)))).addTask=function(t){var e=a.props.id;a.props.createTaskThunkCreator(t,e)},a.changeTask=function(t,e){var n=a.props.id,r=a.props.tasks.find(function(e){return e.id===t});if(r){var o=function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?W(a,!0).forEach(function(e){Object(T.a)(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):W(a).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}({},r,{},e);a.props.updateTaskThunkCreator(o,t,n)}},a.changeFilter=function(t){var e=a.props.id;a.props.filterTasks(t,e)},a.deleteTask=function(t){var e=a.props.id;a.props.deleteTaskThunkCreator(t,e)},a.deleteToDoList=function(){var t=a.props.id;a.props.deleteToDoListThunkCreator(t)},a.changeTitleList=function(t){var e=a.props.id;a.props.updateTitleToDoListThunkCreator(t,e)},a}return Object(d.a)(e,t),Object(c.a)(e,[{key:"componentDidMount",value:function(){var t=this.props.id;this.props.getTasksThunkCreator(t)}},{key:"render",value:function(){var t,e,a=this.props.errorMessage&&"Error";return r.a.createElement(_.a,{className:"todo-list"},r.a.createElement(B.a,null,r.a.createElement("div",{className:"todo-list-info"},r.a.createElement(y,{title:this.props.title,changeTitleList:this.changeTitleList}),r.a.createElement(f.a,{onClick:this.deleteToDoList},r.a.createElement(b.a,null))),r.a.createElement(m,{addItem:this.addTask}),r.a.createElement(g,{tasks:(t=this.props.tasks,e=this.props.filterValue,t.filter(function(t){switch(e){case"All":return!0;case"Completed":return 2===t.status;case"Active":return 0===t.status}})),changeTask:this.changeTask,deleteTask:this.deleteTask}),r.a.createElement(v,{changeFilter:this.changeFilter,filterValue:this.props.filterValue}),a))}}]),e}(r.a.Component),Y=Object(C.b)(function(t){return{errorMessage:t.todoListsPage.errorMessage}},{filterTasks:function(t,e){return{type:"TodoList/Reducer/FILTER-TASK",newFilterValue:t,todoListId:e}},deleteToDoListThunkCreator:function(t){return function(e){M(t).then(function(a){0===a&&e(function(t){return{type:"TodoList/Reducer/DELETE-TODOLIST",todoListId:t}}(t))})}},updateTitleToDoListThunkCreator:function(t,e){return function(a){R(t,e).then(function(n){a(function(t,e){return{type:"TodoList/Reducer/CHANGE_TITLE_LIST",newTitle:t,todoListId:e}}(t,e))})}},getTasksThunkCreator:function(t){return function(e){P(t).then(function(a){e(function(t,e){return{type:"TodoList/Reducer/SET-TASKS",tasks:t,todoListId:e}}(a,t))})}},createTaskThunkCreator:function(t,e){return function(a){N(t,e).then(function(t){a(function(t,e){return{type:V,newTask:t,todoListId:e}}(t,e))})}},deleteTaskThunkCreator:function(t,e){return function(a){F(t,e).then(function(n){0===n&&a(function(t,e){return{type:"TodoList/Reducer/DELETE-TASK",taskId:t,todoListId:e}}(t,e))})}},updateTaskThunkCreator:function(t,e,a){return function(n){x(t,e,a).then(function(t){n({type:"TodoList/Reducer/CHANGE-TASK",updatedTask:t})})}}})(J),$=(a(109),a(149)),q=function(t){function e(){var t,a;Object(s.a)(this,e);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(r)))).state={email:"petrushin.vyac@yandex.ru",password:"488661632",rememberMe:!1},a.onHandleSubmit=function(t){t.preventDefault();var e=a.state,n=e.email,r=e.password,o=e.rememberMe;a.props.authorizationUser(n,r,o)},a}return Object(d.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){var t=this.state,e=t.email,a=t.password,n="petrushin.vyac@yandex.ru"!==e&&"488661632"!==a;return r.a.createElement($.a,{container:!0,className:"authorization"},r.a.createElement($.a,{className:"register-bg",item:!0,sm:6,xs:12},r.a.createElement("div",{className:"login-photo"}),r.a.createElement(O.a,{variant:"h5"},"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f")),r.a.createElement($.a,{item:!0,sm:6,xs:12},r.a.createElement("form",{className:"login-form",onSubmit:this.onHandleSubmit},r.a.createElement(p.a,{id:"outlined-uncontrolled",label:"Email",defaultValue:e,type:"email",className:"login-field"}),r.a.createElement(p.a,{id:"outlined-uncontrolled",label:"Password",defaultValue:a,type:"password",className:"login-field"}),r.a.createElement(k.a,{type:"submit",disabled:n,variant:"contained",color:"primary"},"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"))))}}]),e}(n.Component),Q=Object(C.b)(null,{authorizationUser:function(t,e,a){return function(n){z(t,e,a).then(function(t){0===t.resultCode&&n({type:"TodoList/Reducer/FORM_LOGIN"})})}}})(q),X=a(150),Z=a(66),tt=a.n(Z),et=a(152),at=a(151),nt=function(t){function e(){var t,a;Object(s.a)(this,e);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(r)))).addToDoList=function(t){a.props.createToDoListThunkCreator(t)},a}return Object(d.a)(e,t),Object(c.a)(e,[{key:"componentDidUpdate",value:function(t,e){t.authorization!==this.props.authorization&&this.props.getToDolistThunkCreator()}},{key:"render",value:function(){var t=this.props.todoLists.map(function(t){return r.a.createElement(Y,{id:t.id,title:t.title,key:t.id,tasks:t.tasks,filterValue:t.filterValue})});return r.a.createElement("div",{className:"wrapper"},r.a.createElement(X.a,{position:"static"},r.a.createElement(at.a,null,r.a.createElement(f.a,{edge:"start",color:"inherit","aria-label":"menu"},r.a.createElement(tt.a,null)),r.a.createElement(O.a,{variant:"h6"},"TodoList"),r.a.createElement(k.a,{color:"inherit"},"Login"))),r.a.createElement(et.a,{maxWidth:"sm"},this.props.authorization?r.a.createElement(r.a.Fragment,null,r.a.createElement(m,{addItem:this.addToDoList}),r.a.createElement("div",{className:"App"},t)):r.a.createElement(Q,null)))}}]),e}(r.a.Component),rt=Object(C.b)(function(t){return{todoLists:t.todoListsPage.todoLists,authorization:t.todoListsPage.authorization}},{getToDolistThunkCreator:function(){return function(t){S().then(function(e){t({type:"TodoList/Reducer/SET-TODOLIST",todoLists:e})})}},createToDoListThunkCreator:function(t){return function(e){I(t).then(function(t){e({type:"TodoList/Reducer/ADD-TODOLIST",newToDolist:t})})}}})(nt),ot=a(35),it=a(67),st=Object(ot.c)({todoListsPage:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"TodoList/Reducer/ADD-TODOLIST":return U({},t,{todoLists:[].concat(Object(j.a)(t.todoLists),[U({},e.newToDolist,{tasks:[],filterValue:"All"})])});case"TodoList/Reducer/CHANGE_TITLE_LIST":return U({},t,{todoLists:t.todoLists.map(function(t){return t.id===e.todoListId?U({},t,{title:e.newTitle}):t})});case V:return U({},t,{todoLists:t.todoLists.map(function(t){return t.id===e.todoListId?U({},t,{tasks:[].concat(Object(j.a)(t.tasks),[e.newTask])}):t})});case"TodoList/Reducer/CHANGE-TASK":return U({},t,{todoLists:t.todoLists.map(function(t){return t.id===e.updatedTask.todoListId?U({},t,{tasks:t.tasks.map(function(t){return t.id===e.updatedTask.id?U({},t,{},e.updatedTask):t})}):t})});case"TodoList/Reducer/FILTER-TASK":return U({},t,{todoLists:t.todoLists.map(function(t){return t.id===e.todoListId?U({},t,{filterValue:e.newFilterValue}):t})});case"TodoList/Reducer/DELETE-TASK":return U({},t,{todoLists:t.todoLists.map(function(t){return t.id===e.todoListId?U({},t,{tasks:t.tasks.filter(function(t){return t.id!==e.taskId})}):t})});case"TodoList/Reducer/DELETE-TODOLIST":return U({},t,{todoLists:t.todoLists.filter(function(t){return t.id!==e.todoListId})});case"TodoList/Reducer/SET-TODOLIST":var a=e.todoLists.map(function(t){return U({},t,{tasks:[],filterValue:"All"})});return U({},t,{todoLists:a});case"TodoList/Reducer/SET-TASKS":return U({},t,{todoLists:t.todoLists.map(function(t){return t.id===e.todoListId?U({},t,{tasks:[].concat(Object(j.a)(t.tasks),Object(j.a)(e.tasks))}):t})});case"TodoList/Reducer/FORM_LOGIN":return U({},t,{authorization:!0});default:return t}}}),ct=Object(ot.d)(st,Object(ot.a)(it.a));i.a.render(r.a.createElement(C.a,{store:ct},r.a.createElement(rt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})},50:function(t,e,a){},51:function(t,e,a){},77:function(t,e,a){t.exports=a(112)},82:function(t,e,a){},83:function(t,e,a){},87:function(t,e,a){},88:function(t,e,a){}},[[77,1,2]]]);
//# sourceMappingURL=main.b0404021.chunk.js.map